<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Project Documentation</title>
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<link rel="stylesheet" href="/system/css/doc-styles.css">
		<link rel="stylesheet" href="/system/css/highlight.css">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="/system/js/jquery.min.js"><\/script>')</script>
	</head>
	<body>
		<header id="mdDocHeader">
			<span>Jump Menu:</span>
		</header>

		<section>
			<%= document %>
		</section>

		<script type="text/javascript" src="/system/js/highlight.pack.js"></script>
		<script type="text/javascript">
		$( function() {
			/**
			 * Code Highlighter
			 */
			$('pre code').each(
				function( i, e ) {
					hljs.highlightBlock(e)
				}
			);
			/**
			 * Documentation Section Selector
			 *
			 * Automagically builds a <select> jump menu for
			 * choosing which documentation block to navigate to.
			 */
			var sectionSelector;
			sectionSelector = function() {
				var $headings, $select, $headingId, $headingText, $selectVal;

				$('#mdDocHeader').append('<select />');
				$select = $('#mdDocHeader select');
				$headings = $('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]');

				$headings.each( function(e) {
					$headingId = $(this).attr('id');
					$headingText = $(this).text();
					$select.append('<option value="#' + $headingId + '">' + $headingText + '</option>');
				});

				$select.change( function(e) {
					$selectVal = $(this).find(':selected').val();
					window.location.hash = $selectVal;
				});
			}
			sectionSelector();
		});
		</script>
	</body>
</html>
